(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{QdjV:function(t,n,e){"use strict";e.d(n,"a",(function(){return b}));var o=e("mrSG"),r=e("cUzu"),i=e("AytR"),a=e("qTy+"),s=e("TYT/"),c=e("j+Tt"),l=e("sPEm"),b=function(){function t(t,n,e,o,r,a){this.http=t,this.sesion=n,this.storage=e,this.loadingController=o,this.alertController=r,this.toastController=a,this.archivoAPIUrls="assets/data/api.json",this.apiUrl=i.a,this.token="",console.log("Dentro del servicio API: "+this.apiUrl),this.getIndex()}return t.prototype.getIndex=function(){var t=this;return new Promise((function(n){t.http.get(t.apiUrl+"/").subscribe((function(t){n(t),console.log(t)}),(function(t){console.log(t)}))}))},t.prototype.obtenerURLAPI=function(t){return this.apiUrl+"/"+t},t.prototype.consultaGET=function(t){var n=this.obtenerToken();return this.http.get(this.obtenerURLAPI(t),{headers:n}).toPromise()},t.prototype.consultaPOST=function(t,n){var e=this.obtenerToken();return this.http.post(this.obtenerURLAPI(t),n,{headers:e}).toPromise()},t.prototype.consultaPOSTsinToken=function(t,n){return this.http.post(this.obtenerURLAPI(t),n).toPromise()},t.prototype.consultaPOSTImagen=function(t,n){var e=this.obtenerToken(),o=new FormData;return o.append("imagen",n,n.name),this.http.post(this.obtenerURLAPI(t),o,{headers:e}).toPromise()},t.prototype.consultaPUT=function(t,n){var e=this.obtenerToken();return this.http.put(this.obtenerURLAPI(t),n,{headers:e}).toPromise()},t.prototype.consultaDELETE=function(t){var n=this.obtenerToken();return this.http.delete(this.obtenerURLAPI(t),{headers:n}).toPromise()},t.prototype.obtenerToken=function(){return new r.c({Authorization:this.sesion.obtenerToken()})},t.prototype.mostrarCargando=function(){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.e)(this,(function(t){switch(t.label){case 0:return[4,this.loadingController.create({duration:5e3,spinner:"crescent",translucent:!0,cssClass:"custom-class custom-loading"})];case 1:return[4,t.sent().present()];case 2:return[2,t.sent()]}}))}))},t.prototype.quitarCargando=function(){var t=this;setTimeout((function(){t.loadingController.dismiss()}),500)},t.prototype.presentAlert=function(t){return Object(o.b)(this,void 0,void 0,(function(){var n;return Object(o.e)(this,(function(e){switch(e.label){case 0:return[4,this.alertController.create({cssClass:"alert",message:t})];case 1:return[4,(n=e.sent()).present()];case 2:return e.sent(),setTimeout((function(){n.dismiss()}),3e3),[2]}}))}))},t.prototype.presentAlertError=function(t){return Object(o.b)(this,void 0,void 0,(function(){var n;return Object(o.e)(this,(function(e){switch(e.label){case 0:return[4,this.alertController.create({cssClass:"alert_pago_error",message:t})];case 1:return[4,(n=e.sent()).present()];case 2:return e.sent(),setTimeout((function(){n.dismiss()}),3e3),[2]}}))}))},t.prototype.presentarToast=function(t,n,e){return void 0===n&&(n="secondary"),void 0===e&&(e=2e3),Object(o.b)(this,void 0,void 0,(function(){return Object(o.e)(this,(function(o){switch(o.label){case 0:return[4,this.toastController.create({message:t,duration:e,color:n,buttons:[{text:"X",role:"cancel",handler:function(){console.log("Cancel clicked")}}]})];case 1:return o.sent().present(),[2]}}))}))},t.miUtil=void 0,t.\u0275fac=function(n){return new(n||t)(s.Tb(r.a),s.Tb(a.a),s.Tb(c.b),s.Tb(l.M),s.Tb(l.a),s.Tb(l.U))},t.\u0275prov=s.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"k+ul":function(t,n,e){"use strict";e.r(n),e.d(n,"Tab3PageModule",(function(){return x}));var o=e("sPEm"),r=e("DUip"),i=e("Valr"),a=e("QJY3"),s=e("mrSG"),c=e("QdjV"),l=e("AytR"),b=e("qTy+"),u=e("TYT/"),p=e("o8Qb");function h(t,n){1&t&&u.Lb(0,"ion-progress-bar",8)}function g(t,n){if(1&t){var e=u.Qb();u.Nb(0),u.Pb(1,"div"),u.Pb(2,"h1"),u.rc(3),u.Ob(),u.Lb(4,"img",12),u.Pb(5,"p"),u.rc(6),u.Ob(),u.Ob(),u.Pb(7,"form",13),u.Pb(8,"ion-item",14),u.Pb(9,"ion-range",15),u.Xb("ionBlur",(function(){return u.mc(e),u.Zb(2).actualizarProgreso()}))("ionChange",(function(){return u.mc(e),u.Zb(2).rangoCliente()})),u.Lb(10,"img",16),u.Lb(11,"ion-icon",17),u.Ob(),u.Ob(),u.Pb(12,"ion-item"),u.Pb(13,"ion-range",18),u.Lb(14,"img",16),u.Lb(15,"ion-icon",17),u.Ob(),u.Ob(),u.Ob(),u.Mb()}if(2&t){var o=n.$implicit,r=u.Zb(2);u.Ab(3),u.sc(o.titulo),u.Ab(1),u.hc("src","",r.serverURL,"",o.imagen,"",u.nc),u.Ab(2),u.sc(o.descripcion),u.Ab(1),u.ec("formGroup",r.rangos_form),u.Ab(3),u.hc("src","",r.serverURL,"",o.imagen_cliente,"",u.nc),u.Ab(4),u.hc("src","",r.serverURL,"",o.imagen_admin,"",u.nc)}}function d(t,n){1&t&&(u.Pb(0,"h1"),u.rc(1),u.ac(2,"translate"),u.Ob()),2&t&&(u.Ab(1),u.sc(u.bc(2,1,"tab3_cadena5")))}function f(t,n){if(1&t&&(u.Pb(0,"ion-item"),u.Pb(1,"ion-avatar",19),u.Lb(2,"img",20),u.Ob(),u.Pb(3,"ion-label"),u.Pb(4,"p",21),u.rc(5),u.Ob(),u.Ob(),u.Ob()),2&t){var e=n.$implicit,o=u.Zb(3);u.Ab(2),u.hc("src","",o.serverURL,"",e.imagen,"",u.nc),u.Ab(3),u.sc(e.titulo)}}function m(t,n){if(1&t&&(u.Pb(0,"div"),u.qc(1,d,3,3,"h1",6),u.Pb(2,"ion-list"),u.qc(3,f,6,3,"ion-item",11),u.Ob(),u.Ob()),2&t){var e=u.Zb(2);u.Ab(1),u.ec("ngIf",e.metas_finalizadas.length>0),u.Ab(2),u.ec("ngForOf",e.metas_finalizadas)}}function v(t,n){if(1&t){var e=u.Qb();u.Pb(0,"ion-content"),u.Pb(1,"ion-refresher",9),u.Xb("ionRefresh",(function(t){return u.mc(e),u.Zb().doRefresh(t)})),u.Lb(2,"ion-refresher-content",10),u.Ob(),u.Pb(3,"form"),u.qc(4,g,16,9,"ng-container",11),u.qc(5,m,4,2,"div",6),u.Ob(),u.Ob()}if(2&t){var o=u.Zb();u.Ab(4),u.ec("ngForOf",o.meta_activa),u.Ab(1),u.ec("ngIf",o.metas_finalizadas)}}function _(t,n){1&t&&(u.Pb(0,"ion-button",27),u.rc(1),u.ac(2,"translate"),u.Ob()),2&t&&(u.Ab(1),u.sc(u.bc(2,1,"tab3_cadena7")))}function P(t,n){if(1&t&&(u.Pb(0,"ion-content",22),u.Pb(1,"div",23),u.Lb(2,"img",24),u.Pb(3,"p"),u.rc(4),u.ac(5,"translate"),u.Ob(),u.Ob(),u.Pb(6,"div",25),u.qc(7,_,3,3,"ion-button",26),u.Ob(),u.Ob()),2&t){var e=u.Zb();u.Ab(4),u.sc(u.bc(5,2,"tab3_cadena6")),u.Ab(3),u.ec("ngIf","3d"!=e.plan)}}var O=function(){function t(t,n,e,o,r){this.menu=t,this.formBuilder=n,this.alertController=e,this.util=o,this.sesion=r,this.serverURL=l.a,this.reserva_videollamada=!0,this.tiempo_espera_videollamada=!0,this.rangocli1=0,this.barra_cargando=!1,this.rangos_form=this.formBuilder.group({rango1:["",a.l.required],rango2:["",a.l.required]}),this.comprobarPlan(),this.reserva_videollamada=!1,this.tiempo_espera_videollamada=!0,this.util.mostrarCargando(),this.listarMetas()}return t.prototype.abreMenu=function(){this.menu.open("end")},t.prototype.comprobarPlan=function(){this.sesion.getPlan(this.plan)},t.prototype.rangoCliente=function(){this.rangocli1=this.rangos_form.get("rango1").value,100==this.rangocli1&&this.presentAlert_Meta()},t.prototype.actualizarProgreso=function(){this.rangocli1=this.rangos_form.get("rango1").value;var t={meta_id:this.meta_activa[0].id,progreso_cliente:this.rangocli1};console.log(t),this.util.consultaPUT("meta/progreso",t).then((function(t){console.log(t)}))},t.prototype.listarMetas=function(){var t=this;console.log("aquiiiiii"),console.log(this.plan),"3D"==this.plan&&this.util.consultaGET("metas/cliente").then((function(n){t.meta_activa=n,console.log("error de metas"),console.log(n),t.metas_finalizadas=t.meta_activa.metas_finalizadas,t.meta_activa=t.meta_activa.metas_activas,t.rangos_form.setValue({rango1:t.meta_activa[0].progreso_cliente,rango2:t.meta_activa[0].progreso_admin}),t.util.quitarCargando(),t.barra_cargando=!1})).catch((function(n){t.util.quitarCargando(),t.barra_cargando=!1}))},t.prototype.presentAlert_Meta=function(){return Object(s.b)(this,void 0,void 0,(function(){var t;return Object(s.e)(this,(function(n){switch(n.label){case 0:return[4,this.alertController.create({header:"\xa1Felicidades!",cssClass:"alert_meta",message:"Has completado una nueva meta"})];case 1:return[4,(t=n.sent()).present()];case 2:return n.sent(),setTimeout((function(){t.dismiss()}),3e3),[2]}}))}))},t.prototype.doRefresh=function(t){var n=this;this.barra_cargando=!0,setTimeout((function(){n.listarMetas(),t.target.complete()}),1e3)},t.\u0275fac=function(n){return new(n||t)(u.Kb(o.N),u.Kb(a.a),u.Kb(o.a),u.Kb(c.a),u.Kb(b.a))},t.\u0275cmp=u.Eb({type:t,selectors:[["app-tab3"]],decls:12,vars:6,consts:[["src","./assets/imgs/cara_header.svg",1,"logo_header"],[1,"texto_header"],["slot","end"],[3,"click"],["name","settings"],["color","tertiary","type","indeterminate",4,"ngIf"],[4,"ngIf"],["class","info",4,"ngIf"],["color","tertiary","type","indeterminate"],["slot","fixed",3,"ionRefresh"],["refreshingSpinner","null"],[4,"ngFor","ngForOf"],[3,"src"],[3,"formGroup"],[1,"range"],["min","0","max","100","formControlName","rango1",3,"ionBlur","ionChange"],["slot","start",1,"imagen_range",3,"src"],["slot","end","size","large","name","ribbon"],["min","0","max","100","formControlName","rango2","disabled","true"],[1,"metas_activas"],[1,"margin30",3,"src"],[1,"margin30"],[1,"info"],[1,"upgrade_plan"],["src","./assets/imgs/Nadar.svg"],[1,"contenedor_boton_flotante"],["class","boton_pie_rosa","expand","full","color","tertiary",4,"ngIf"],["expand","full","color","tertiary",1,"boton_pie_rosa"]],template:function(t,n){1&t&&(u.Pb(0,"ion-header"),u.Pb(1,"ion-toolbar"),u.Lb(2,"img",0),u.Pb(3,"h4",1),u.rc(4),u.ac(5,"translate"),u.Ob(),u.Pb(6,"ion-buttons",2),u.Pb(7,"ion-button",3),u.Xb("click",(function(){return n.abreMenu()})),u.Lb(8,"ion-icon",4),u.Ob(),u.Ob(),u.Ob(),u.qc(9,h,1,0,"ion-progress-bar",5),u.Ob(),u.qc(10,v,6,2,"ion-content",6),u.qc(11,P,8,4,"ion-content",7)),2&t&&(u.Ab(4),u.sc(u.bc(5,4,"tab3_cadena1")),u.Ab(5),u.ec("ngIf",1==n.barra_cargando),u.Ab(1),u.ec("ngIf","3D"==n.plan),u.Ab(1),u.ec("ngIf","3D"!=n.plan))},directives:[o.n,o.J,o.f,o.e,o.o,i.i,o.u,o.i,o.w,o.x,a.m,a.i,a.j,i.h,a.c,o.q,o.v,o.S,a.h,a.b,o.s,o.d,o.r],pipes:[p.c],styles:["form[_ngcontent-%COMP%]{vertical-align:middle;text-align:center;margin-top:25px;margin-bottom:60px;padding-right:15px;padding-left:15px}ion-toolbar[_ngcontent-%COMP%]{height:40px}ion-toolbar[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{position:absolute;top:-1px;right:0;--box-shadow:none!important;--background:#fff;color:#212322}.logo_header[_ngcontent-%COMP%]{width:18px;top:9px;left:10px}.logo_header[_ngcontent-%COMP%], .texto_header[_ngcontent-%COMP%]{position:absolute;margin-bottom:5px}.texto_header[_ngcontent-%COMP%]{top:10px;left:40px;margin-top:0;font-size:16px}.range[_ngcontent-%COMP%]{--border-width:0px!important;--highlight-color-focused:none!important;--inner-border-width:0px!important;--full-highlight-height:none}ion-range[_ngcontent-%COMP%]{--bar-background:#e0b500!important;--bar-background-active:#d9017a;--knob-background:#d9017a;--knob-a-background:#00f;--knob-size:30px}.imagen_range[_ngcontent-%COMP%]{width:25px;border-radius:100%}ion-item[_ngcontent-%COMP%]{--border-width:0px!important;--highlight-color-focused:none!important;--inner-border-width:0px!important;--full-highlight-height:none;--padding-start:15px;--padding-end:15px}.metas_activas[_ngcontent-%COMP%]{margin-right:15px;width:40px;height:40px}ion-avatar[_ngcontent-%COMP%]{width:25px;height:25px}.boton_pie_rosa[_ngcontent-%COMP%]{text-transform:none;font-family:HKGrotesk!important;font-weight:700;font-size:20px;height:60px;width:100%;margin-left:0;margin-bottom:0;--border-style:none;--color:#4a5e6e;position:absolute;bottom:0}.contenedor_boton_flotante[_ngcontent-%COMP%]{margin-top:-10px}.upgrade_plan[_ngcontent-%COMP%]{background:#fff;text-align:center;margin-left:15px;margin-right:15px;margin-top:40%;height:200px;padding:30px;box-shadow:0 10px 16px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}"]}),t}(),x=function(){function t(){}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(n){return new(n||t)},imports:[[o.K,i.b,a.d,a.k,r.j.forChild([{path:"",component:O}]),p.b.forChild()]]}),t}()},"qTy+":function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var o=e("mrSG"),r=e("TYT/"),i=e("j+Tt"),a=function(){function t(t){this.storage=t,this.miSesion=void 0}return t.prototype.obtenerToken=function(){return this.token},t.prototype.guardarToken=function(t){this.token=t},t.prototype.obtenerRol=function(){return this.rol},t.prototype.guardarRol=function(t){this.rol=t},t.prototype.crearSesion=function(){var t=this;this.storage.get("usuario_token").then((function(n){t.token=n}))},t.prototype.login=function(t){this.datosUsuario=t},t.prototype.getUsuario=function(){return this.datosUsuario},t.prototype.getPlan=function(t){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.e)(this,(function(t){switch(t.label){case 0:return[4,this.storage.get("plan").then((function(t){}))];case 1:return t.sent(),[2]}}))}))},t.\u0275fac=function(n){return new(n||t)(r.Tb(i.b))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}]);
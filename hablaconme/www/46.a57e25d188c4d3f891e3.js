(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{sFF5:function(t,n,o){"use strict";o.r(n),o.d(n,"Tab7PageModule",(function(){return O}));var e=o("sPEm"),i=o("DUip"),r=o("Valr"),a=o("QJY3"),c=o("mrSG"),s=o("QdjV"),b=o("AytR"),l=o("wd/R"),p=o("wSm8"),d=o("TYT/"),h=o("o8Qb");function f(t,n){1&t&&d.Lb(0,"ion-progress-bar",6)}function m(t,n){if(1&t){var o=d.Qb();d.Pb(0,"ion-item",9),d.Xb("click",(function(){d.mc(o);var t=d.Zb().$implicit;return d.Zb().presentModalMensaje(t)})),d.Pb(1,"ion-avatar"),d.Lb(2,"img",10),d.Ob(),d.Pb(3,"ion-label"),d.Pb(4,"h3"),d.rc(5),d.Ob(),d.Pb(6,"p"),d.rc(7),d.Ob(),d.Ob(),d.Pb(8,"p",11),d.rc(9),d.Ob(),d.Ob()}if(2&t){var e=d.Zb().$implicit,i=d.Zb();d.Ab(2),d.hc("src","",i.server_URL,"",e.imagen,"",d.nc),d.Ab(3),d.sc(e.cliente_nombre),d.Ab(2),d.sc(e.ultimo_mensaje),d.Ab(2),d.sc(e.fecha_modificacion)}}function g(t,n){if(1&t){var o=d.Qb();d.Pb(0,"ion-item",12),d.Xb("click",(function(){d.mc(o);var t=d.Zb().$implicit;return d.Zb().presentModalMensaje(t)})),d.Pb(1,"ion-avatar"),d.Lb(2,"img",10),d.Ob(),d.Pb(3,"ion-label"),d.Pb(4,"h3"),d.rc(5),d.Ob(),d.Pb(6,"p"),d.rc(7),d.Ob(),d.Ob(),d.Pb(8,"p",11),d.rc(9),d.Ob(),d.Ob()}if(2&t){var e=d.Zb().$implicit,i=d.Zb();d.Ab(2),d.hc("src","",i.server_URL,"",e.imagen,"",d.nc),d.Ab(3),d.sc(e.cliente_nombre),d.Ab(2),d.sc(e.ultimo_mensaje),d.Ab(2),d.sc(e.fecha_modificacion)}}function u(t,n){if(1&t&&(d.Pb(0,"ion-list"),d.qc(1,m,10,5,"ion-item",7),d.qc(2,g,10,5,"ion-item",8),d.Ob()),2&t){var o=n.$implicit;d.Ab(1),d.ec("ngIf",0==o.leido),d.Ab(1),d.ec("ngIf",1==o.leido)}}var _=function(){function t(t,n,o){this.menu=t,this.util=n,this.modalController=o,this.plan="3d",this.reserva_videollamada=!0,this.tiempo_espera_videollamada=!0,this.barra_cargando=!1,this.server_URL=b.a,this.util.mostrarCargando(),this.listarChats()}return t.prototype.abreMenu=function(){this.menu.open("end")},t.prototype.listarChats=function(){var t=this;this.util.consultaGET("chats").then((function(n){t.listadoChats=n,t.listadoChats=t.listadoChats.chats,t.listadoChats.forEach((function(n,o){console.log("Fecha:::::"),console.log(t.listadoChats[o].fecha_modificacion),t.listadoChats[o].fecha_modificacion=t.formatearFecha(t.listadoChats[o].fecha_modificacion)})),t.util.quitarCargando(),t.barra_cargando=!1}))},t.prototype.doRefresh=function(t){var n=this;this.barra_cargando=!0,setTimeout((function(){n.listarChats(),t.target.complete()}),1e3)},t.prototype.formatearFecha=function(t){l.locale("es");var n=l(l().format()),o=l.unix(t);return n.diff(o,"day")>1?o.format("DD/MM/YYYY HH:mm"):o.fromNow()},t.prototype.presentModalMensaje=function(t){return Object(c.b)(this,void 0,void 0,(function(){var n,o=this;return Object(c.e)(this,(function(e){switch(e.label){case 0:return[4,this.modalController.create({component:p.a,componentProps:{item:t}})];case 1:return(n=e.sent()).onDidDismiss().then((function(t){o.barra_cargando=!0,o.listarChats()})),[4,n.present()];case 2:return[2,e.sent()]}}))}))},t.prototype.presentModalSeleccionarUsuario=function(){return Object(c.b)(this,void 0,void 0,(function(){var t,n=this;return Object(c.e)(this,(function(o){switch(o.label){case 0:return[4,this.modalController.create({component:p.a,componentProps:{}})];case 1:return(t=o.sent()).onDidDismiss().then((function(t){n.barra_cargando=!0,n.listarChats()})),[4,t.present()];case 2:return[2,o.sent()]}}))}))},t.\u0275fac=function(n){return new(n||t)(d.Kb(e.N),d.Kb(s.a),d.Kb(e.O))},t.\u0275cmp=d.Eb({type:t,selectors:[["app-tab7"]],decls:11,vars:5,consts:[["src","./assets/imgs/cara_header.svg",1,"logo_header"],[1,"texto_header"],["color","tertiary","type","indeterminate",4,"ngIf"],["slot","fixed",3,"ionRefresh"],["refreshingSpinner","null"],[4,"ngFor","ngForOf"],["color","tertiary","type","indeterminate"],["class","no-leido",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],[1,"no-leido",3,"click"],[3,"src"],[1,"fecha"],[3,"click"]],template:function(t,n){1&t&&(d.Pb(0,"ion-header"),d.Pb(1,"ion-toolbar"),d.Lb(2,"img",0),d.Pb(3,"h4",1),d.rc(4),d.ac(5,"translate"),d.Ob(),d.Ob(),d.qc(6,f,1,0,"ion-progress-bar",2),d.Ob(),d.Pb(7,"ion-content"),d.Pb(8,"ion-refresher",3),d.Xb("ionRefresh",(function(t){return n.doRefresh(t)})),d.Lb(9,"ion-refresher-content",4),d.Ob(),d.qc(10,u,3,2,"ion-list",5),d.Ob()),2&t&&(d.Ab(4),d.sc(d.bc(5,3,"admin_tab2_cadena1")),d.Ab(2),d.ec("ngIf",1==n.barra_cargando),d.Ab(4),d.ec("ngForOf",n.listadoChats))},directives:[e.n,e.J,r.i,e.i,e.w,e.x,r.h,e.u,e.s,e.q,e.d,e.r],pipes:[h.c],styles:["form[_ngcontent-%COMP%]{vertical-align:middle;text-align:center;margin-top:25px;margin-bottom:60px;padding-right:15px;padding-left:15px}ion-toolbar[_ngcontent-%COMP%]{height:40px}ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{position:absolute;top:-1px;right:0;--box-shadow:none!important;--background:#fff;color:#212322}.logo_header[_ngcontent-%COMP%]{width:18px;top:9px;left:10px}.logo_header[_ngcontent-%COMP%], .texto_header[_ngcontent-%COMP%]{position:absolute;margin-bottom:5px}.texto_header[_ngcontent-%COMP%]{top:10px;left:40px;margin-top:0;font-size:16px}.boton_pie_rosa[_ngcontent-%COMP%]{text-transform:none;font-family:HKGrotesk!important;font-weight:700;font-size:20px;height:60px;width:100%;margin-left:0;margin-bottom:0;--border-style:none;--color:#4a5e6e;position:absolute;bottom:0}.contenedor_boton_flotante[_ngcontent-%COMP%]{margin-top:-10px}ion-label[_ngcontent-%COMP%]{margin-left:15px}ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:-webkit-inline-box}.telefono[_ngcontent-%COMP%]{font-size:12px}ion-item[_ngcontent-%COMP%]{--border-width:0px!important;--highlight-color-focused:none!important;--inner-border-width:0px!important;--full-highlight-height:none;--padding-start:15px;--padding-end:15px}ion-list[_ngcontent-%COMP%]{margin-bottom:-1px;padding-bottom:0;padding-top:0}.fecha[_ngcontent-%COMP%]{font-size:14px;position:absolute;right:0;top:0}.no-leido[_ngcontent-%COMP%]{--background:#f9f9f9}ion-avatar[_ngcontent-%COMP%]{width:50px;height:50px}"]}),t}(),O=function(){function t(){}return t.\u0275mod=d.Ib({type:t}),t.\u0275inj=d.Hb({factory:function(n){return new(n||t)},imports:[[e.K,r.b,a.d,i.j.forChild([{path:"",component:_}]),h.b.forChild()]]}),t}()}}]);
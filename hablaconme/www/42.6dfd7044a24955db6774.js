(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{TUkU:function(n,t,o){"use strict";o.r(t),o.d(t,"Tab2PageModule",(function(){return v}));var e=o("sPEm"),i=o("DUip"),a=o("Valr"),r=o("QJY3"),c=o("mrSG"),s=o("QdjV"),b=o("AytR"),l=o("wd/R"),p=o("qTy+"),d=o("wSm8"),f=o("TYT/"),g=o("o8Qb");function h(n,t){1&n&&f.Lb(0,"ion-progress-bar",8)}function m(n,t){if(1&n){var o=f.Qb();f.Pb(0,"ion-item",14),f.Xb("click",(function(){f.mc(o);var n=f.Zb().$implicit;return f.Zb(2).presentModalMensaje(n)})),f.Pb(1,"ion-avatar"),f.Lb(2,"img",15),f.Ob(),f.Pb(3,"ion-label"),f.Pb(4,"h3"),f.rc(5),f.Ob(),f.Pb(6,"p"),f.rc(7),f.Ob(),f.Ob(),f.Pb(8,"p",16),f.rc(9),f.Ob(),f.Ob()}if(2&n){var e=f.Zb().$implicit,i=f.Zb(2);f.Ab(2),f.hc("src","",i.server_URL,"",e.imagen_administrador,"",f.nc),f.Ab(3),f.sc(e.administrador_nombre),f.Ab(2),f.sc(e.ultimo_mensaje),f.Ab(2),f.sc(e.fecha_modificacion)}}function u(n,t){if(1&n){var o=f.Qb();f.Pb(0,"ion-item",3),f.Xb("click",(function(){f.mc(o);var n=f.Zb().$implicit;return f.Zb(2).presentModalMensaje(n)})),f.Pb(1,"ion-avatar"),f.Lb(2,"img",15),f.Ob(),f.Pb(3,"ion-label"),f.Pb(4,"h3"),f.rc(5),f.Ob(),f.Pb(6,"p"),f.rc(7),f.Ob(),f.Ob(),f.Pb(8,"p",16),f.rc(9),f.Ob(),f.Ob()}if(2&n){var e=f.Zb().$implicit,i=f.Zb(2);f.Ab(2),f.hc("src","",i.server_URL,"",e.imagen,"",f.nc),f.Ab(3),f.sc(e.cliente_nombre),f.Ab(2),f.sc(e.ultimo_mensaje),f.Ab(2),f.sc(e.fecha_modificacion)}}function _(n,t){if(1&n&&(f.Pb(0,"ion-list"),f.qc(1,m,10,5,"ion-item",12),f.qc(2,u,10,5,"ion-item",13),f.Ob()),2&n){var o=t.$implicit;f.Ab(1),f.ec("ngIf",0==o.leido),f.Ab(1),f.ec("ngIf",1==o.leido)}}function O(n,t){if(1&n){var o=f.Qb();f.Pb(0,"ion-content"),f.Pb(1,"ion-refresher",9),f.Xb("ionRefresh",(function(n){return f.mc(o),f.Zb().doRefresh(n)})),f.Lb(2,"ion-refresher-content",10),f.Ob(),f.qc(3,_,3,2,"ion-list",11),f.Ob()}if(2&n){var e=f.Zb();f.Ab(3),f.ec("ngForOf",e.listadoChats)}}function P(n,t){1&n&&(f.Pb(0,"ion-button",22),f.rc(1),f.ac(2,"translate"),f.Ob()),2&n&&(f.Ab(1),f.sc(f.bc(2,1,"tab2_cadena3")))}function x(n,t){if(1&n&&(f.Pb(0,"ion-content",17),f.Pb(1,"div",18),f.Lb(2,"img",19),f.Pb(3,"p"),f.rc(4),f.ac(5,"translate"),f.Ob(),f.Ob(),f.Pb(6,"div",20),f.qc(7,P,3,3,"ion-button",21),f.Ob(),f.Ob()),2&n){var o=f.Zb();f.Ab(4),f.sc(f.bc(5,2,"tab2_cadena2")),f.Ab(3),f.ec("ngIf","3D"!=o.plan)}}var C=function(){function n(n,t,o,e){this.menu=n,this.util=t,this.sesion=o,this.modalController=e,this.reserva_videollamada=!0,this.tiempo_espera_videollamada=!0,this.barra_cargando=!1,this.server_URL=b.a,this.reserva_videollamada=!1,this.tiempo_espera_videollamada=!0,this.util.mostrarCargando(),this.listarChats()}return n.prototype.comprobarPlan=function(){this.sesion.getPlan(this.plan)},n.prototype.abreMenu=function(){this.menu.open("end")},n.prototype.listarChats=function(){var n=this;this.util.consultaGET("chats").then((function(t){n.listadoChats=t,n.listadoChats=n.listadoChats.chats,n.listadoChats.forEach((function(t,o){console.log("Fecha:::::"),console.log(n.listadoChats[o].fecha_modificacion),n.listadoChats[o].fecha_modificacion=n.formatearFecha(n.listadoChats[o].fecha_modificacion)})),n.util.quitarCargando(),n.barra_cargando=!1}))},n.prototype.doRefresh=function(n){var t=this;this.barra_cargando=!0,setTimeout((function(){t.listarChats(),n.target.complete()}),1e3)},n.prototype.formatearFecha=function(n){l.locale("es");var t=l(l().format()),o=l.unix(n);return t.diff(o,"day")>1?o.format("DD/MM/YYYY HH:mm"):o.fromNow()},n.prototype.presentModalMensaje=function(n){return Object(c.b)(this,void 0,void 0,(function(){var t,o=this;return Object(c.e)(this,(function(e){switch(e.label){case 0:return[4,this.modalController.create({component:d.a,componentProps:{item:n}})];case 1:return(t=e.sent()).onDidDismiss().then((function(n){o.barra_cargando=!0,o.listarChats()})),[4,t.present()];case 2:return[2,e.sent()]}}))}))},n.\u0275fac=function(t){return new(t||n)(f.Kb(e.N),f.Kb(s.a),f.Kb(p.a),f.Kb(e.O))},n.\u0275cmp=f.Eb({type:n,selectors:[["app-tab2"]],decls:12,vars:6,consts:[["src","./assets/imgs/cara_header.svg",1,"logo_header"],[1,"texto_header"],["slot","end"],[3,"click"],["name","settings"],["color","tertiary","type","indeterminate",4,"ngIf"],[4,"ngIf"],["class","background_borroso",4,"ngIf"],["color","tertiary","type","indeterminate"],["slot","fixed",3,"ionRefresh"],["refreshingSpinner","null"],[4,"ngFor","ngForOf"],["class","no-leido",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],[1,"no-leido",3,"click"],[3,"src"],[1,"fecha"],[1,"background_borroso"],[1,"upgrade_plan"],["src","./assets/imgs/movil-mensajes.svg"],[1,"contenedor_boton_flotante"],["class","boton_pie_rosa","expand","full","color","tertiary",4,"ngIf"],["expand","full","color","tertiary",1,"boton_pie_rosa"]],template:function(n,t){1&n&&(f.Pb(0,"ion-header"),f.Pb(1,"ion-toolbar"),f.Lb(2,"img",0),f.Pb(3,"h4",1),f.rc(4),f.ac(5,"translate"),f.Ob(),f.Pb(6,"ion-buttons",2),f.Pb(7,"ion-button",3),f.Xb("click",(function(){return t.abreMenu()})),f.Lb(8,"ion-icon",4),f.Ob(),f.Ob(),f.Ob(),f.qc(9,h,1,0,"ion-progress-bar",5),f.Ob(),f.qc(10,O,4,1,"ion-content",6),f.qc(11,x,8,4,"ion-content",7)),2&n&&(f.Ab(4),f.sc(f.bc(5,4,"tab2_cadena1")),f.Ab(5),f.ec("ngIf",1==t.barra_cargando),f.Ab(1),f.ec("ngIf","3D"==t.plan),f.Ab(1),f.ec("ngIf","3D"!=t.plan))},directives:[e.n,e.J,e.f,e.e,e.o,a.i,e.u,e.i,e.w,e.x,a.h,e.s,e.q,e.d,e.r],pipes:[g.c],styles:[".background[_ngcontent-%COMP%]{background:url(fondo-chat.4dc8adf0f25a26ae64a9.svg) 0 50%/100% 125% no-repeat}.background[_ngcontent-%COMP%], .background_borroso[_ngcontent-%COMP%]{--ion-background-color:transparent!important}.background_borroso[_ngcontent-%COMP%]{background:url(fondo-chat-borroso.fe4b26a27d64f9526aa3.svg) 59% 50%/110% 130% no-repeat}.upgrade_plan[_ngcontent-%COMP%]{background:#fff;text-align:center;margin-left:15px;margin-right:15px;margin-top:40%;height:200px;padding:30px;box-shadow:0 10px 16px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}form[_ngcontent-%COMP%]{vertical-align:middle;text-align:center;margin-top:25px;margin-bottom:60px;padding-right:15px;padding-left:15px}ion-toolbar[_ngcontent-%COMP%]{height:40px}ion-toolbar[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{position:absolute;top:-1px;right:0;--box-shadow:none!important;--background:#fff;color:#212322}.logo_header[_ngcontent-%COMP%]{width:18px;top:9px;left:10px}.logo_header[_ngcontent-%COMP%], .texto_header[_ngcontent-%COMP%]{position:absolute;margin-bottom:5px}.texto_header[_ngcontent-%COMP%]{top:10px;left:40px;margin-top:0;font-size:16px}.boton_pie_rosa[_ngcontent-%COMP%]{text-transform:none;font-family:HKGrotesk!important;font-weight:700;font-size:20px;height:60px;width:100%;margin-left:0;margin-bottom:0;--border-style:none;--color:#4a5e6e;position:absolute;bottom:0}.contenedor_boton_flotante[_ngcontent-%COMP%]{margin-top:-10px}ion-label[_ngcontent-%COMP%]{margin-left:15px}ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:-webkit-inline-box}.telefono[_ngcontent-%COMP%]{font-size:12px}ion-item[_ngcontent-%COMP%]{--border-width:0px!important;--highlight-color-focused:none!important;--inner-border-width:0px!important;--full-highlight-height:none;--padding-start:15px;--padding-end:15px}ion-list[_ngcontent-%COMP%]{margin-bottom:-1px;padding-bottom:0;padding-top:0}.fecha[_ngcontent-%COMP%]{font-size:14px;position:absolute;right:0;top:0}.no-leido[_ngcontent-%COMP%]{--background:#f9f9f9}ion-avatar[_ngcontent-%COMP%]{width:50px;height:50px}"]}),n}(),v=function(){function n(){}return n.\u0275mod=f.Ib({type:n}),n.\u0275inj=f.Hb({factory:function(t){return new(t||n)},imports:[[e.K,a.b,r.d,i.j.forChild([{path:"",component:C}]),g.b.forChild()]]}),n}()}}]);
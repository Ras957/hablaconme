(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{"Sa0/":function(n,t,o){"use strict";o.r(t),o.d(t,"Tab5PageModule",(function(){return w}));var a=o("sPEm"),e=o("DUip"),r=o("Valr"),c=o("QJY3"),i=o("mrSG"),s=o("QdjV"),l=o("AytR"),b=o("9O/j"),u=o("wd/R"),p=o("6eKo"),d=o("TYT/"),g=o("j+Tt"),m=o("o8Qb");function f(n,t){1&n&&d.Lb(0,"ion-progress-bar",24)}function _(n,t){if(1&n){var o=d.Qb();d.Pb(0,"div",25),d.Pb(1,"img",26),d.Xb("click",(function(){return d.mc(o),d.Zb().presentModalImagenAvatar()})),d.Ob(),d.Ob()}if(2&n){var a=d.Zb();d.Ab(1),d.hc("src","",a.serverURL,"",a.datos_usuario.avatar,"",d.nc)}}function h(n,t){1&n&&d.Lb(0,"img",34)}function P(n,t){1&n&&d.Lb(0,"img",35)}function O(n,t){1&n&&d.Lb(0,"img",36)}function C(n,t){1&n&&(d.Pb(0,"div",37),d.Pb(1,"h2"),d.rc(2),d.ac(3,"translate"),d.Ob(),d.Pb(4,"a"),d.rc(5),d.ac(6,"translate"),d.Ob(),d.Ob()),2&n&&(d.Ab(2),d.sc(d.bc(3,2,"tab5_cadena17")),d.Ab(3),d.sc(d.bc(6,4,"tab5_cadena18")))}function M(n,t){if(1&n){var o=d.Qb();d.Pb(0,"div",27),d.Pb(1,"ion-grid"),d.Pb(2,"ion-row"),d.Pb(3,"ion-col"),d.Lb(4,"img",35),d.Ob(),d.Pb(5,"ion-col"),d.Pb(6,"p"),d.rc(7),d.ac(8,"translate"),d.Ob(),d.Pb(9,"ion-button",38),d.Xb("click",(function(){return d.mc(o),d.Zb(2).presentModalPagoActualizar("2D")}))("click",(function(){return d.mc(o),d.Zb(2).presentAlert_Pago_ok()})),d.rc(10),d.ac(11,"translate"),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob()}2&n&&(d.Ab(7),d.sc(d.bc(8,2,"tab5_cadena19")),d.Ab(3),d.tc(" ",d.bc(11,4,"tab5_cadena15"),""))}function v(n,t){1&n&&(d.Pb(0,"p"),d.rc(1),d.ac(2,"translate"),d.Ob()),2&n&&(d.Ab(1),d.sc(d.bc(2,1,"tab5_cadena20")))}function A(n,t){1&n&&(d.Pb(0,"p"),d.rc(1),d.ac(2,"translate"),d.Ob()),2&n&&(d.Ab(1),d.sc(d.bc(2,1,"tab5_cadena21")))}function x(n,t){if(1&n){var o=d.Qb();d.Pb(0,"div",27),d.Pb(1,"ion-grid"),d.Pb(2,"ion-row"),d.Pb(3,"ion-col"),d.Lb(4,"img",36),d.Ob(),d.Pb(5,"ion-col"),d.qc(6,v,3,3,"p",15),d.qc(7,A,3,3,"p",15),d.Pb(8,"ion-button",38),d.Xb("click",(function(){return d.mc(o),d.Zb(2).presentModalPagoActualizar("3D")}))("click",(function(){return d.mc(o),d.Zb(2).presentAlert_Pago_ok()})),d.rc(9),d.ac(10,"translate"),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob()}if(2&n){var a=d.Zb(2);d.Ab(6),d.ec("ngIf","1D"==a.plan_actual.nombre),d.Ab(1),d.ec("ngIf","2D"==a.plan_actual.nombre),d.Ab(2),d.tc(" ",d.bc(10,3,"tab5_cadena16"),"")}}function y(n,t){if(1&n){var o=d.Qb();d.Pb(0,"div"),d.Pb(1,"div",27),d.Pb(2,"h2"),d.rc(3),d.ac(4,"translate"),d.Ob(),d.Pb(5,"ion-grid"),d.Pb(6,"ion-row"),d.Pb(7,"ion-col"),d.qc(8,h,1,0,"img",28),d.qc(9,P,1,0,"img",29),d.qc(10,O,1,0,"img",30),d.Ob(),d.Pb(11,"ion-col"),d.Pb(12,"p"),d.rc(13),d.ac(14,"translate"),d.ac(15,"translate"),d.Ob(),d.Pb(16,"ion-button",31),d.Xb("click",(function(){return d.mc(o),d.Zb().presentModalPago()})),d.rc(17),d.ac(18,"translate"),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.qc(19,C,7,6,"div",32),d.qc(20,M,12,6,"div",33),d.qc(21,x,11,5,"div",33),d.Ob()}if(2&n){var a=d.Zb();d.Ab(3),d.sc(d.bc(4,12,"tab5_cadena5")),d.Ab(5),d.ec("ngIf","1D"==a.plan_actual.nombre),d.Ab(1),d.ec("ngIf","2D"==a.plan_actual.nombre),d.Ab(1),d.ec("ngIf","3D"==a.plan_actual.nombre),d.Ab(3),d.wc("",d.bc(14,14,"tab5_cadena6")," ",a.plan_actual.nombre," ",d.bc(15,16,"tab5_cadena7")," ",a.plan_actual.fecha_caducidad,"."),d.Ab(4),d.sc(d.bc(18,18,"tab5_cadena8")),d.Ab(2),d.ec("ngIf","3D"!=a.plan_actual.nombre),d.Ab(1),d.ec("ngIf","1D"==a.plan_actual.nombre),d.Ab(1),d.ec("ngIf","1D"==a.plan_actual.nombre||"2D"==a.plan_actual.nombre)}}var k=function(){function n(n,t,o,a,e,r){this.menu=n,this.util=t,this.formBuilder=o,this.modalController=a,this.router=e,this.storage=r,this.serverURL=l.a,this.barra_cargando=!1,this.util.mostrarCargando(),this.listarUsuario(),this.planContratadoActual(),this.usuario_form=this.formBuilder.group({nombre:[""],email:[""],telefono:[""],fecha_nacimiento:[""]}),this.contrasenya_form=this.formBuilder.group({contrasenya:[""],contrasenyaConfirmacion:[""]})}return n.prototype.abreMenu=function(){this.menu.open("end")},n.prototype.listarUsuario=function(){var n=this;this.util.consultaGET("usuario").then((function(t){n.datos_usuario=t,n.datos_usuario=n.datos_usuario.usuario,console.log("USUARIO: "),console.log(n.datos_usuario),n.usuario_form=n.formBuilder.group({nombre:[n.datos_usuario.nombre],email:[n.datos_usuario.email],telefono:[n.datos_usuario.telefono],fecha_nacimiento:[n.datos_usuario.fecha_nacimiento]}),n.util.quitarCargando(),n.barra_cargando=!1}))},n.prototype.planContratadoActual=function(){var n=this;this.util.consultaGET("planescontratados/cliente").then((function(t){n.plan_actual=t,n.plan_actual=n.plan_actual.plan_contratado_actual[0],n.plan_actual.fecha_caducidad=n.fechaFormato(n.plan_actual.fecha_caducidad),console.log("EL plan actual es:::::::::::::."),console.log(n.plan_actual)})).catch((function(t){n.plan_actual=[]}))},n.prototype.actualiza_campo=function(n){var t=this.usuario_form.get(n).value;this.util.consultaPUT("usuarios",{campo:n,valor:t}).then((function(n){}))},n.prototype.actualizarContrasenya=function(){var n=this,t=this.contrasenya_form.get("contrasenya").value;t==this.contrasenya_form.get("contrasenyaConfirmacion").value?(console.log("CONTRASE\xd1AS VALIDAS"),this.util.consultaPUT("login/cambiar-contrasenya",{user_id:this.datos_usuario.id,contrasenya:t}).then((function(t){console.log(t),n.storage.set("usuario_token",null),n.util.presentarToast("La contrase\xf1a ha sido actualizada, por favor vuelve a iniciar sesi\xf3n","success"),n.router.navigateByUrl("/")})).catch((function(t){n.util.presentarToast("Ha ocurrido un error al cambiar la contrase\xf1a","danger")}))):this.util.presentarToast("Las contrase\xf1as no coinciden","danger")},n.prototype.fechaFormato=function(n){return u.locale("es"),u(n).format("DD [de] MMMM [de] YYYY")},n.prototype.presentModalImagenAvatar=function(){return Object(i.b)(this,void 0,void 0,(function(){var n,t=this;return Object(i.e)(this,(function(o){switch(o.label){case 0:return[4,this.modalController.create({component:b.a,componentProps:{}})];case 1:return(n=o.sent()).onDidDismiss().then((function(n){t.barra_cargando=!0,setTimeout((function(){t.listarUsuario()}),1e3)})),[4,n.present()];case 2:return[2,o.sent()]}}))}))},n.prototype.presentModalPago=function(){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.e)(this,(function(n){switch(n.label){case 0:return console.log("PLAN ACTUAL:"),console.log(this.plan_actual),[4,this.modalController.create({component:p.a,componentProps:{datos_pago:this.plan_actual}})];case 1:return[4,n.sent().present()];case 2:return[2,n.sent()]}}))}))},n.prototype.presentModalPagoActualizar=function(n){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.e)(this,(function(t){switch(t.label){case 0:return[4,this.modalController.create({component:p.a,componentProps:{datos_pago:{nombre:n,modalidad:"anual",precio:"null"}}})];case 1:return[4,t.sent().present()];case 2:return[2,t.sent()]}}))}))},n.prototype.doRefresh=function(n){var t=this;this.barra_cargando=!0,setTimeout((function(){t.listarUsuario(),t.planContratadoActual(),n.target.complete()}),1e3)},n.\u0275fac=function(t){return new(t||n)(d.Kb(a.N),d.Kb(s.a),d.Kb(c.a),d.Kb(a.O),d.Kb(e.g),d.Kb(g.b))},n.\u0275cmp=d.Eb({type:n,selectors:[["app-tab5"]],decls:68,vars:45,consts:[["src","./assets/imgs/cara_header.svg",1,"logo_header"],[1,"texto_header"],["slot","end"],[3,"click"],["name","settings"],["color","tertiary","type","indeterminate",4,"ngIf"],["slot","fixed",3,"ionRefresh"],["refreshingSpinner","null"],["class","selecciona_persona",4,"ngIf"],[3,"formGroup"],["position","stacked"],["formControlName","nombre",3,"ionBlur"],["formControlName","email",3,"ionBlur"],["formControlName","telefono",3,"ionBlur"],["name","fecha","formControlName","fecha_nacimiento","color","secondary","id","fecha","displayFormat","DD/MM/YYYY","done-text","Hecho","cancelText","Cancelar",3,"ionChange"],[4,"ngIf"],[1,"login_social"],["color","light","expand","full","shape","round","size","large",1,"boton_social_google"],["src","./assets/imgs/sociales/Google.svg",1,"logo"],["color","secondary","expand","full","shape","round","size","large",1,"boton_social_facebook"],["src","./assets/imgs/sociales/Facebook.svg",1,"logo"],["formControlName","contrasenya","placeholder","***"],["formControlName","contrasenyaConfirmacion","placeholder","***"],["shape","round",1,"btn_contraseya",3,"disabled","click"],["color","tertiary","type","indeterminate"],[1,"selecciona_persona"],[1,"persona",3,"src","click"],[1,"tu_plan"],["src","./assets/imgs/plan_1d.svg",4,"ngIf"],["src","./assets/imgs/plan_2d.svg",4,"ngIf"],["src","./assets/imgs/plan_3d.svg",4,"ngIf"],["expand","full","size","large","shape","round",1,"boton",3,"click"],["class","actualizar_plan",4,"ngIf"],["class","tu_plan",4,"ngIf"],["src","./assets/imgs/plan_1d.svg"],["src","./assets/imgs/plan_2d.svg"],["src","./assets/imgs/plan_3d.svg"],[1,"actualizar_plan"],["expand","full","size","large","shape","round",1,"boton2",3,"click"]],template:function(n,t){1&n&&(d.Pb(0,"ion-header"),d.Pb(1,"ion-toolbar"),d.Lb(2,"img",0),d.Pb(3,"h4",1),d.rc(4),d.ac(5,"translate"),d.Ob(),d.Pb(6,"ion-buttons",2),d.Pb(7,"ion-button",3),d.Xb("click",(function(){return t.abreMenu()})),d.Lb(8,"ion-icon",4),d.Ob(),d.Ob(),d.Ob(),d.qc(9,f,1,0,"ion-progress-bar",5),d.Ob(),d.Pb(10,"ion-content"),d.Pb(11,"ion-refresher",6),d.Xb("ionRefresh",(function(n){return t.doRefresh(n)})),d.Lb(12,"ion-refresher-content",7),d.Ob(),d.qc(13,_,2,2,"div",8),d.Pb(14,"form",9),d.Pb(15,"ion-item"),d.Pb(16,"ion-label",10),d.rc(17),d.ac(18,"translate"),d.Ob(),d.Pb(19,"ion-input",11),d.Xb("ionBlur",(function(){return t.actualiza_campo("nombre")})),d.Ob(),d.Ob(),d.Pb(20,"ion-item"),d.Pb(21,"ion-label",10),d.rc(22),d.ac(23,"translate"),d.Ob(),d.Pb(24,"ion-input",12),d.Xb("ionBlur",(function(){return t.actualiza_campo("email")})),d.Ob(),d.Ob(),d.Pb(25,"ion-item"),d.Pb(26,"ion-label",10),d.rc(27),d.ac(28,"translate"),d.Ob(),d.Pb(29,"ion-input",13),d.Xb("ionBlur",(function(){return t.actualiza_campo("telefono")})),d.Ob(),d.Ob(),d.Pb(30,"ion-item"),d.Pb(31,"ion-label",10),d.rc(32),d.ac(33,"translate"),d.Ob(),d.Pb(34,"ion-datetime",14),d.Xb("ionChange",(function(){return t.actualiza_campo("fecha_nacimiento")})),d.Ob(),d.Ob(),d.Ob(),d.qc(35,y,22,20,"div",15),d.Pb(36,"div",16),d.Pb(37,"h5"),d.rc(38),d.ac(39,"translate"),d.Ob(),d.Pb(40,"p"),d.rc(41),d.ac(42,"translate"),d.Ob(),d.Pb(43,"ion-button",17),d.Lb(44,"img",18),d.rc(45),d.ac(46,"translate"),d.Ob(),d.Pb(47,"ion-button",19),d.Lb(48,"img",20),d.rc(49),d.ac(50,"translate"),d.Ob(),d.Ob(),d.Pb(51,"form",9),d.Pb(52,"h5"),d.rc(53),d.ac(54,"translate"),d.Ob(),d.Pb(55,"ion-item"),d.Pb(56,"ion-label",10),d.rc(57),d.ac(58,"translate"),d.Ob(),d.Lb(59,"ion-input",21),d.Ob(),d.Pb(60,"ion-item"),d.Pb(61,"ion-label",10),d.rc(62),d.ac(63,"translate"),d.Ob(),d.Lb(64,"ion-input",22),d.Ob(),d.Pb(65,"ion-button",23),d.Xb("click",(function(){return t.actualizarContrasenya()})),d.rc(66),d.ac(67,"translate"),d.Ob(),d.Ob(),d.Ob()),2&n&&(d.Ab(4),d.sc(d.bc(5,19,"primera_sesion_cadena48")),d.Ab(5),d.ec("ngIf",1==t.barra_cargando),d.Ab(4),d.ec("ngIf",t.datos_usuario),d.Ab(1),d.ec("formGroup",t.usuario_form),d.Ab(3),d.sc(d.bc(18,21,"tab5_cadena1")),d.Ab(5),d.sc(d.bc(23,23,"tab5_cadena2")),d.Ab(5),d.sc(d.bc(28,25,"tab5_cadena3")),d.Ab(5),d.sc(d.bc(33,27,"tab5_cadena4")),d.Ab(3),d.ec("ngIf",t.plan_actual),d.Ab(3),d.sc(d.bc(39,29,"tab5_cadena9")),d.Ab(3),d.sc(d.bc(42,31,"tab5_cadena10")),d.Ab(4),d.tc(" ",d.bc(46,33,"signin_cadena3")," "),d.Ab(4),d.tc(" ",d.bc(50,35,"signin_cadena4")," "),d.Ab(2),d.ec("formGroup",t.contrasenya_form),d.Ab(2),d.sc(d.bc(54,37,"tab5_cadena11")),d.Ab(4),d.sc(d.bc(58,39,"tab5_cadena12")),d.Ab(5),d.sc(d.bc(63,41,"tab5_cadena13")),d.Ab(3),d.ec("disabled",!t.contrasenya_form.valid),d.Ab(1),d.tc(" ",d.bc(67,43,"tab5_cadena14")," "))},directives:[a.n,a.J,a.f,a.e,a.o,r.i,a.i,a.w,a.x,c.m,c.i,c.c,a.q,a.r,a.p,a.T,c.h,c.b,a.j,a.S,a.u,a.m,a.z,a.h],pipes:[m.c],styles:["ion-toolbar[_ngcontent-%COMP%]{height:40px}ion-toolbar[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{position:absolute;top:-1px;right:0;--box-shadow:none!important;--background:#fff;color:#212322}.logo_header[_ngcontent-%COMP%]{width:18px;top:9px;left:10px}.logo_header[_ngcontent-%COMP%], .texto_header[_ngcontent-%COMP%]{position:absolute;margin-bottom:5px}.texto_header[_ngcontent-%COMP%]{top:10px;left:40px;margin-top:0;font-size:16px}.selecciona_persona[_ngcontent-%COMP%]{width:100%;text-align:center;margin-top:25px}.persona[_ngcontent-%COMP%]{width:46%;display:inline-table;margin-left:2%;margin-right:2%;margin-bottom:10px;border-radius:100%}form[_ngcontent-%COMP%]{vertical-align:middle;text-align:center;margin-top:25px;margin-bottom:60px;padding-right:15px;padding-left:15px}form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--border-width:0px!important;--highlight-color-focused:none!important;--inner-border-width:0px!important;--full-highlight-height:none}form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-bottom:10px;font-family:HKGrotesk}form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--placeholder-opacity:1}form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{border:1px solid #f2f0e8;--padding-start:10px;--color:#212322;font-family:HKGrotesk}form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]{width:100%;height:38px}.tu_plan[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.tu_plan[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{text-align:left}.boton[_ngcontent-%COMP%]{--background:#d9017a!important;color:#fff}.boton[_ngcontent-%COMP%], .boton2[_ngcontent-%COMP%]{margin:5% 0;text-transform:none;--ion-color-contrast:none!important;font-family:HKGrotesk!important;font-weight:700}.boton2[_ngcontent-%COMP%]{--background:#white!important;color:#d9017a;--color-activated:#d9017a;border:3px solid #d9017a;border-radius:27px}.login_social[_ngcontent-%COMP%]{text-align:left;padding-right:15px;padding-left:15px}.boton_social_google[_ngcontent-%COMP%]{color:#212322!important}.boton_social_facebook[_ngcontent-%COMP%], .boton_social_google[_ngcontent-%COMP%]{margin:5% 0;text-transform:none;--ion-color-contrast:none!important;font-size:16px;height:44px;justify-content:left}.boton_social_facebook[_ngcontent-%COMP%]{color:#fff!important;--ripple-color:#00f!important}.logo[_ngcontent-%COMP%]{margin-right:8px;width:23px}.btn_contraseya[_ngcontent-%COMP%]{margin:5% 0;text-transform:none;--background:#white!important;color:#212322;--color-activated:#212322;border:1px solid #212322;border-radius:27px;--ion-color-contrast:none!important;font-family:HKGrotesk!important}.actualizar_plan[_ngcontent-%COMP%]{text-align:center;margin-bottom:15px}.actualizar_plan[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:0}.actualizar_plan[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#212322;text-decoration:underline}"]}),n}(),w=function(){function n(){}return n.\u0275mod=d.Ib({type:n}),n.\u0275inj=d.Hb({factory:function(t){return new(t||n)},imports:[[a.K,r.b,c.d,c.k,e.j.forChild([{path:"",component:k}]),m.b.forChild()]]}),n}()}}]);
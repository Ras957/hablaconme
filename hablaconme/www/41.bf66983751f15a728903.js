(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{tmrb:function(a,t,e){"use strict";e.r(t),e.d(t,"Tab1PageModule",(function(){return H}));var n=e("sPEm"),o=e("DUip"),i=e("Valr"),r=e("QJY3"),c=e("mrSG"),s=e("Pdu4"),l=e("VYYF"),d=e("QdjV"),b=e("AytR"),f=e("wd/R"),m=e("PvlA"),u=e("TYT/"),h=e("j+Tt"),p=e("o8Qb");function g(a,t){1&a&&u.Lb(0,"ion-progress-bar",10)}function _(a,t){if(1&a&&(u.Pb(0,"ion-item"),u.Lb(1,"ion-datetime",19),u.ac(2,"translate"),u.Ob()),2&a){var e=u.Zb(3);u.Ab(1),u.fc("placeholder",u.bc(2,2,"formulario_fechayhora2")),u.fc("hourValues",e.horasDisponibles)}}function v(a,t){if(1&a&&(u.Pb(0,"div"),u.Pb(1,"p",20),u.rc(2),u.ac(3,"translate"),u.Ob(),u.Ob()),2&a){var e=u.Zb(3);u.Ab(2),u.uc("",u.bc(3,2,"formulario_fechayhora3")," ",e.utc_formato,"")}}function O(a,t){1&a&&(u.Pb(0,"ion-item",21),u.Pb(1,"h5",22),u.rc(2),u.ac(3,"translate"),u.Ob(),u.Ob()),2&a&&(u.Ab(2),u.sc(u.bc(3,1,"tab1_cadena11")))}function P(a,t){if(1&a){var e=u.Qb();u.Pb(0,"div"),u.Lb(1,"img",15),u.Pb(2,"p"),u.rc(3),u.ac(4,"translate"),u.Ob(),u.Pb(5,"h2"),u.rc(6),u.ac(7,"translate"),u.Ob(),u.Pb(8,"div",16),u.Pb(9,"ion-item"),u.Pb(10,"ion-datetime",17),u.Xb("ionChange",(function(){return u.mc(e),u.Zb(2).listarHoras()})),u.ac(11,"translate"),u.Ob(),u.Ob(),u.qc(12,_,3,4,"ion-item",6),u.qc(13,v,4,4,"div",6),u.qc(14,O,4,3,"ion-item",18),u.Ob(),u.Ob()}if(2&a){var n=u.Zb(2);u.Ab(3),u.sc(u.bc(4,9,"tab1_cadena3")),u.Ab(3),u.sc(u.bc(7,11,"tab1_cadena4")),u.Ab(4),u.fc("placeholder",u.bc(11,13,"formulario_fechayhora1")),u.fc("value",n.datetime_min),u.fc("min",n.datetime_min),u.fc("max",n.datetime_max),u.Ab(2),u.ec("ngIf",n.horasDisponibles.length>0),u.Ab(1),u.ec("ngIf",n.horasDisponibles.length>0),u.Ab(1),u.ec("ngIf",0==n.horasDisponibles.length&&0!=n.noHoras)}}var x=function(a){return{filter:a}};function M(a,t){if(1&a&&(u.Pb(0,"div"),u.Pb(1,"div",23),u.Lb(2,"img",24),u.Lb(3,"img",24),u.Ob(),u.Pb(4,"div",25),u.Pb(5,"h3"),u.rc(6),u.Ob(),u.Pb(7,"h3"),u.rc(8),u.Ob(),u.Ob(),u.Pb(9,"div",26),u.Pb(10,"p"),u.rc(11),u.ac(12,"translate"),u.Ob(),u.Pb(13,"p"),u.rc(14),u.ac(15,"translate"),u.Pb(16,"strong"),u.rc(17),u.Ob(),u.Ob(),u.Pb(18,"p"),u.rc(19),u.ac(20,"translate"),u.Ob(),u.Ob(),u.Ob()),2&a){var e=u.Zb(2);u.Ab(2),u.hc("src","",e.serverURL,"",e.info_usuarios.cliente_imagen,"",u.nc),u.ec("ngStyle",u.ic(18,x,e.filter_default)),u.Ab(1),u.hc("src","",e.serverURL,"",e.info_usuarios.admin_imagen,"",u.nc),u.ec("ngStyle",u.ic(20,x,e.filter_default)),u.Ab(3),u.sc(e.info_usuarios.cliente_nombre),u.Ab(2),u.sc(e.info_usuarios.admin_nombre),u.Ab(3),u.sc(u.bc(12,12,"primera_sesion_cadena51")),u.Ab(3),u.tc("",u.bc(15,14,"primera_sesion_cadena52")," "),u.Ab(3),u.tc("",e.proxima_videollamada.fecha,"."),u.Ab(2),u.sc(u.bc(20,16,"primera_sesion_cadena53"))}}function C(a,t){if(1&a&&(u.Pb(0,"div"),u.Pb(1,"h1"),u.rc(2),u.ac(3,"translate"),u.Ob(),u.Lb(4,"img",27),u.Pb(5,"p"),u.rc(6),u.ac(7,"translate"),u.Ob(),u.Ob()),2&a){var e=u.Zb(2);u.Ab(2),u.sc(u.bc(3,3,"tab1_cadena5")),u.Ab(4),u.uc("",u.bc(7,5,"tab1_cadena6")," ",e.proxima_llamada.fecha,".")}}function y(a,t){if(1&a&&(u.Nb(0),u.Pb(1,"p"),u.rc(2),u.Ob(),u.Mb()),2&a){var e=t.$implicit;u.Ab(2),u.tc("-",e.fecha,"")}}function A(a,t){if(1&a){var e=u.Qb();u.Pb(0,"div",28),u.Pb(1,"h5"),u.rc(2),u.ac(3,"translate"),u.Ob(),u.Pb(4,"ion-list"),u.qc(5,y,3,1,"ng-container",29),u.Ob(),u.Pb(6,"h5"),u.rc(7),u.ac(8,"translate"),u.Ob(),u.Pb(9,"p"),u.rc(10),u.ac(11,"translate"),u.Ob(),u.Pb(12,"a",3),u.Xb("click",(function(){return u.mc(e),u.Zb(2).presentModalModificarFecha()})),u.rc(13),u.ac(14,"translate"),u.Ob(),u.Ob()}if(2&a){var n=u.Zb(2);u.Ab(2),u.sc(u.bc(3,5,"tab1_cadena7")),u.Ab(3),u.ec("ngForOf",n.sesiones_pasadas),u.Ab(2),u.sc(u.bc(8,7,"tab1_cadena8")),u.Ab(3),u.sc(u.bc(11,9,"tab1_cadena9")),u.Ab(3),u.sc(u.bc(14,11,"tab1_cadena10"))}}function w(a,t){if(1&a){var e=u.Qb();u.Pb(0,"ion-content"),u.Pb(1,"ion-refresher",11),u.Xb("ionRefresh",(function(a){return u.mc(e),u.Zb().doRefresh(a)})),u.Lb(2,"ion-refresher-content",12),u.Ob(),u.Pb(3,"form",13),u.Pb(4,"h1"),u.rc(5),u.ac(6,"translate"),u.Ob(),u.qc(7,P,15,15,"div",6),u.qc(8,M,21,22,"div",6),u.qc(9,C,8,7,"div",6),u.qc(10,A,15,13,"div",14),u.Ob(),u.Ob()}if(2&a){var n=u.Zb();u.Ab(3),u.ec("formGroup",n.llamada_form),u.Ab(2),u.sc(u.bc(6,6,"tab1_cadena2")),u.Ab(2),u.ec("ngIf",0==n.reserva_videollamada),u.Ab(1),u.ec("ngIf",1==n.reserva_videollamada),u.Ab(1),u.ec("ngIf","3d"==n.plan&&1==n.reserva_llamada),u.Ab(1),u.ec("ngIf",1==n.reserva_videollamada)}}function D(a,t){1&a&&(u.Pb(0,"ion-content"),u.Pb(1,"div",30),u.Lb(2,"img",31),u.Pb(3,"h1"),u.rc(4),u.ac(5,"translate"),u.Ob(),u.Ob(),u.Ob()),2&a&&(u.Ab(4),u.sc(u.bc(5,1,"entrar_videollamada_cadena2")))}function k(a,t){if(1&a){var e=u.Qb();u.Pb(0,"ion-button",32),u.Xb("click",(function(){return u.mc(e),u.Zb().crearVideollamada()})),u.rc(1),u.ac(2,"translate"),u.Ob()}if(2&a){var n=u.Zb();u.ec("disabled",!n.llamada_form.valid),u.Ab(1),u.sc(u.bc(2,2,"tab1_btn_videollamada"))}}function I(a,t){if(1&a){var e=u.Qb();u.Pb(0,"ion-button",33),u.Xb("click",(function(){return u.mc(e),u.Zb().entrarVideollamada()})),u.rc(1),u.ac(2,"translate"),u.Ob()}2&a&&(u.Ab(1),u.tc(" ",u.bc(2,1,"entrar_videollamada_cadena3"),""))}var q=function(){function a(a,t,e,n,o,i,c){this.menu=a,this.modalController=t,this.statusBar=e,this.storage=n,this.util=o,this.formBuilder=i,this.router=c,this.plan="3D",this.reserva_videollamada=!1,this.reserva_llamada=!1,this.tiempo_espera_videollamada=!0,this.horasDisponibles=[],this.noHoras=!1,this.serverURL=b.a,this.barra_cargando=!1,this.plan="3D";var s=f().utcOffset();this.utc_formato=s/60,this.util.mostrarCargando(),this.listarSesiones(),this.llamada_form=this.formBuilder.group({fecha:["",r.l.required],hora:["",r.l.required]});var l=f(f().format());l.add(7,"days").calendar(),this.datetime_max=l.format("YYYY-MM-DD");var d=f(f().format());d.add(1,"days").calendar(),this.datetime_min=d.format("YYYY-MM-DD");var m=f(f().format());m.add(1,"hours").calendar(),this.datetime_hora=m.format("hh")}return a.prototype.ionViewDidEnter=function(){this.statusBar.overlaysWebView(!1),this.statusBar.styleDefault(),this.statusBar.backgroundColorByName("white"),this.storage.get("usuario_token").then((function(a){console.log("El token de usuario guardado en local es: ",a)}))},a.prototype.listarHoras=function(){var a=this;f.locale("es");var t=this.llamada_form.get("fecha").value,e=f(t).format("dddd");this.util.consultaPOST("sesiones/disponibles",{fecha:t,dia:e}).then((function(t){a.noHoras=!0,a.horasDisponibles=[],a.listadoHoras=t,a.listadoHoras=a.listadoHoras.disponibilidades,a.listadoHoras.forEach((function(t){a.horasDisponibles.push(t.hora+a.utc_formato)}))}))},a.prototype.listarSesiones=function(){var a=this;this.util.consultaGET("sesiones/cliente").then((function(t){console.log("SESIONES:::::::::::::::::::::::::::::::::::"),console.log(t),a.info_usuarios=t,a.info_usuarios.videollamada.length>0&&(a.reserva_videollamada=!0,a.proxima_videollamada=a.info_usuarios.videollamada[0],a.fecha(a.proxima_videollamada.fecha),a.proxima_videollamada.fecha=a.fechaFormato(a.proxima_videollamada.fecha)),a.info_usuarios.llamada.length>0&&(a.reserva_llamada=!0,a.proxima_llamada=a.info_usuarios.llamada[0],a.proxima_llamada.fecha=a.fechaFormato(a.proxima_llamada.fecha)),a.sesiones_pasadas=a.info_usuarios.sesiones_pasadas,a.info_usuarios=a.info_usuarios.usuarios,a.sesiones_pasadas.forEach((function(t){t.fecha=a.fechaFormato(t.fecha)})),a.util.quitarCargando(),a.barra_cargando=!1})).catch((function(t){a.util.quitarCargando(),a.barra_cargando=!1}))},a.prototype.crearVideollamada=function(){var a=this,t=this.llamada_form.get("fecha").value,e=this.llamada_form.get("hora").value,n=t.substr(0,11),o=e.substr(11,18),i=f.utc(n+o).format();this.util.consultaPOST("sesiones/",{fecha:i,tipo:"Videollamada"}).then((function(t){a.reserva_videollamada=!0,a.util.presentAlert("La videollamada se reserv\xf3 correctamente."),a.barra_cargando=!0,a.listarSesiones()})).catch((function(t){a.util.presentarToast("Oops.. parece que algo no ha ido bien")}))},a.prototype.entrarVideollamada=function(){this.presentModalVideollamada()},a.prototype.presentModalVideollamada=function(){return Object(c.b)(this,void 0,void 0,(function(){return Object(c.e)(this,(function(a){switch(a.label){case 0:return[4,this.modalController.create({component:m.a,componentProps:{videollamada:this.proxima_videollamada}})];case 1:return[4,a.sent().present()];case 2:return[2,a.sent()]}}))}))},a.prototype.fecha=function(a){f.locale("es");var t=f(f().format()),e=f(a);this.tiempo_espera_videollamada=!(e.diff(t,"minutes")<10)},a.prototype.fechaFormato=function(a){return f.locale("es"),f(a).format("dddd DD [de] MMMM [a las] HH:mm [(UTC+"+this.utc_formato+")]")},a.prototype.abreMenu=function(){this.menu.open("end")},a.prototype.presentModalModificarFecha=function(){return Object(c.b)(this,void 0,void 0,(function(){var a;return Object(c.e)(this,(function(t){switch(t.label){case 0:return[4,this.modalController.create({component:s.a,componentProps:{reserva:this.proxima_videollamada}})];case 1:return(a=t.sent()).onDidDismiss().then((function(a){})),[4,a.present()];case 2:return[2,t.sent()]}}))}))},a.prototype.doRefresh=function(a){var t=this;this.barra_cargando=!0,setTimeout((function(){t.listarSesiones(),a.target.complete()}),1e3)},a.\u0275fac=function(t){return new(t||a)(u.Kb(n.N),u.Kb(n.O),u.Kb(l.a),u.Kb(h.b),u.Kb(d.a),u.Kb(r.a),u.Kb(o.g))},a.\u0275cmp=u.Eb({type:a,selectors:[["app-tab1"]],decls:15,vars:8,consts:[["src","./assets/imgs/cara_header.svg",1,"logo_header"],[1,"texto_header"],["slot","end"],[3,"click"],["name","settings"],["color","tertiary","type","indeterminate",4,"ngIf"],[4,"ngIf"],[1,"contenedor_boton_flotante"],["class","boton_pie_rosa","expand","full","color","tertiary",3,"disabled","click",4,"ngIf"],["class","boton_pie_rosa","expand","full","color","tertiary",3,"click",4,"ngIf"],["color","tertiary","type","indeterminate"],["slot","fixed",3,"ionRefresh"],["refreshingSpinner","null"],[3,"formGroup"],["class","listado",4,"ngIf"],["src","./assets/imgs/fechahora.svg"],[1,"fecha"],["name","fecha","formControlName","fecha","color","secondary","id","fecha","displayFormat","DD/MM/YYYY","done-text","Hecho","cancelText","Cancelar",3,"placeholder","value","min","max","ionChange"],["class","center",4,"ngIf"],["id","hora","name","hora","formControlName","hora","display-format","HH:mm","minuteValues","0","done-text","Hecho","cancelText","Cancelar",3,"placeholder","hourValues"],["id","utc"],[1,"center"],[1,"rojo"],[1,"selecciona_persona"],[1,"persona2",3,"ngStyle","src"],[1,"usuarios"],[1,"cita"],["src","./assets/imgs/llamadas.svg"],[1,"listado"],[4,"ngFor","ngForOf"],[1,"contenido"],["src","./assets/imgs/vamos.svg",1,"imagen"],["expand","full","color","tertiary",1,"boton_pie_rosa",3,"disabled","click"],["expand","full","color","tertiary",1,"boton_pie_rosa",3,"click"]],template:function(a,t){1&a&&(u.Pb(0,"ion-header"),u.Pb(1,"ion-toolbar"),u.Lb(2,"img",0),u.Pb(3,"h4",1),u.rc(4),u.ac(5,"translate"),u.Ob(),u.Pb(6,"ion-buttons",2),u.Pb(7,"ion-button",3),u.Xb("click",(function(){return t.abreMenu()})),u.Lb(8,"ion-icon",4),u.Ob(),u.Ob(),u.Ob(),u.qc(9,g,1,0,"ion-progress-bar",5),u.Ob(),u.qc(10,w,11,8,"ion-content",6),u.qc(11,D,6,3,"ion-content",6),u.Pb(12,"div",7),u.qc(13,k,3,4,"ion-button",8),u.qc(14,I,3,3,"ion-button",9),u.Ob()),2&a&&(u.Ab(4),u.sc(u.bc(5,6,"tab1_cadena1")),u.Ab(5),u.ec("ngIf",1==t.barra_cargando),u.Ab(1),u.ec("ngIf",1==t.tiempo_espera_videollamada),u.Ab(1),u.ec("ngIf",0==t.tiempo_espera_videollamada),u.Ab(2),u.ec("ngIf",0==t.reserva_videollamada),u.Ab(1),u.ec("ngIf",0==t.tiempo_espera_videollamada))},directives:[n.n,n.J,n.f,n.e,n.o,i.i,n.u,n.i,n.w,n.x,r.m,r.i,r.c,n.q,n.j,n.S,r.h,r.b,i.j,n.s,i.h],pipes:[p.c],styles:["form[_ngcontent-%COMP%]{vertical-align:middle;text-align:center;margin-top:25px;margin-bottom:60px;padding-right:15px;padding-left:15px}ion-toolbar[_ngcontent-%COMP%]{height:40px}ion-toolbar[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{position:absolute;top:0;right:0;--box-shadow:none!important;--background:#fff;color:#212322}.logo_header[_ngcontent-%COMP%]{width:18px;top:9px;left:10px}.logo_header[_ngcontent-%COMP%], .texto_header[_ngcontent-%COMP%]{position:absolute;margin-bottom:5px}.texto_header[_ngcontent-%COMP%]{top:10px;left:40px;margin-top:0;font-size:16px}.fecha[_ngcontent-%COMP%]{width:100%;text-align:center;margin-top:15px;margin-bottom:30px}#hora[_ngcontent-%COMP%]{background:url(Reloj.0957dca2a38eb810ed9d.svg) no-repeat 10px 50%;margin-bottom:4px}#fecha[_ngcontent-%COMP%], #hora[_ngcontent-%COMP%]{padding-left:32px}#fecha[_ngcontent-%COMP%]{background:url(Calendario_real.5c2b5b32627ff8f653f6.svg) no-repeat 10px 50%}#utc[_ngcontent-%COMP%]{font-size:12px;margin:0}ion-item[_ngcontent-%COMP%]{--border-width:0px!important;--highlight-color-focused:none!important;--inner-border-width:0px!important;--full-highlight-height:none}ion-datetime[_ngcontent-%COMP%]{font-family:HKGrotesk;font-size:18px;margin:0 auto 10px;width:200px;min-width:148px;height:55px;display:inline-table;border:1px solid;border-radius:8px;padding:18px}.center[_ngcontent-%COMP%], ion-datetime[_ngcontent-%COMP%]{text-align:center}.rojo[_ngcontent-%COMP%]{color:red}.boton_pie_rosa[_ngcontent-%COMP%]{text-transform:none;font-family:HKGrotesk!important;font-weight:700;font-size:20px;height:60px;width:100%;margin-left:0;margin-bottom:0;--border-style:none;--color:#4a5e6e}.contenedor_boton_flotante[_ngcontent-%COMP%]{margin-top:-4px}.listado[_ngcontent-%COMP%]{text-align:left}.listado[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px}.listado[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0}.listado[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;color:#212322}.cita[_ngcontent-%COMP%]{margin-top:20px}.cita[_ngcontent-%COMP%], .usuarios[_ngcontent-%COMP%]{text-align:center}.usuarios[_ngcontent-%COMP%]{width:50%;display:-webkit-box}.usuarios[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 auto}.selecciona_persona[_ngcontent-%COMP%]{width:100%;text-align:center}.persona2[_ngcontent-%COMP%]{width:46%;display:inline-table;margin-left:2%;margin-right:2%;margin-bottom:10px;border-radius:100%}.contenido[_ngcontent-%COMP%]{vertical-align:middle;text-align:center;margin-top:80px;padding-right:15px;padding-left:15px}"]}),a}(),H=function(){function a(){}return a.\u0275mod=u.Ib({type:a}),a.\u0275inj=u.Hb({factory:function(t){return new(t||a)},imports:[[n.K,i.b,r.d,r.k,o.j.forChild([{path:"",component:q}]),p.b.forChild()]]}),a}()}}]);